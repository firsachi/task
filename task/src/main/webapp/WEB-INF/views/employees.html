<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link th:insert="templates/head.html" />
<title>title</title>
</head>
<body>
	<div th:insert="templates/top-bar.html"></div>
	<br>
	<div class="row">
		<div class="columns">
			<table class="table">
				<thead>
					<tr>
						<td th:text="#{inputlabel.fullname}"></td>
						<td th:text="#{inputlabel.company}"></td>
						<td th:text="#{inputlabel.department}"></td>
						<td></td>
						<td>
							<ul class="menu">
								<li><button id="addButton" class="button" data-open="addEmployee">+</button></li>
							</ul>
						</td>
					</tr>
				</thead>
				<tbody th:each="employee : ${allEmployee}">
					<tr>
						<td
							th:text="${employee.surname + ' ' + employee.name + ' ' + employee.patronymic}"></td>
						<td th:text="${employee.enterprise}"></td>
						<td th:text="${employee.department}"></td>
						<td><a>edit</a> </td>
						<td><a data-open="exampleModal1">delete</a></td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- add form -->
		
		<div class="reveal large" id="addEmployee" th:style="${modalAdd} ? 'display: block; top: 75px;' : ''"  data-reveal data-options="closeOnClick:false; closeOnEsc:false;">
			<div class="column small-12 large-12">
			<h1 th:text="#{titleform.newEmployee}">New employee</h1>
			<form class="row" th:action="@{/employee}" method="post" th:object="${employee}">
				<span class="column small-12 large-12" th:insert="templates/employee.html"></span>
			</form>
			</div>
			<button class="close-button" data-close aria-label="Close modal"
				type="button">
				<span aria-hidden="true">&times;</span>
			</button>
		</div>
	</div>
	<script type="text/javascript">
		$(document).foundation();
	</script>
	
	<div th:if="${openNewEmployee}">
		<script type="text/javascript">
			$('#addEmployee').foundation('open');	
		</script>
	</div>
</body>
</html>