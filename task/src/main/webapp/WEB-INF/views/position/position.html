<!DOCTYPE html>
<html>

	<head data-th-replace="templates/head :: head(#{titleform.positions})"></head>
	
	<body>
	
		<nav id="header" data-th-replace="fragments/nav :: core-nav(#{titleform.positions})"></nav>
		
		<div class="row flex-container expanded">
			<div class="columns medium-2">
				<ul data-th-replace="templates/menu :: top-directories"></ul>
			</div>
			<div class="columns medium-10">
				<table data-th-replace="position/position-fargment.html :: table-position"></table>
			</div>
		</div>

		<!-- modal window delete -->
		<div class="reveal" data-th-id="deleteRecord" data-reveal data-options="closeOnClick:false; closeOnEsc:false;">
			<form data-th-id="deletePosition" data-th-action="@{delete}" method="POST" data-th-object="${position}">
			
				<button class="close-button" data-close aria-label="Close modal" type="button">
	    			<span aria-hidden="true">&times;</span>
	  			</button>
	  			
	  			<div data-th-id="bodyForm" >
	  			</div>
	  			
	  			<div class="small button-group align-right">
	  				<button class="button"  data-close  data-th-text="#{buttonname.submit}" data-th-name="save">Submit</button>
	  			</div>
			</form>
		</div>
		
		<script data-th-replace="fragments/core-script :: core-script"></script>
		
		<script type="application/javascript" data-th-inline="javascript">
			var openModal = $('[data-open][data-position-id]').on('click',
				function() {
					var ajax_url = "selectedPosition/"	+ $(this).data('positionId');
					var $modal = $('#bodyForm');
					if (ajax_url) {
						$.ajax(ajax_url).done(function(modalBodyResponse) {
							$modal.html(modalBodyResponse);
						});
					}
			});
				
		</script>

	</body>
</html>